{% extends "account/base.html" %}

{% load i18n account widget_tweaks %}

{% block subtitle %} | {% translate "Password Reset" %}{% endblock %}

{% block content %}

<h1 class="font-bold text-lg mb-3">{% translate "Password Reset" %}</h1>
{% if user.is_authenticated %}
{% include "account/snippets/already_logged_in.html" %}
{% endif %}

<p class="mb-3">{% blocktranslate %}Please contact us if you have any trouble resetting your password.{% endblocktranslate %}</p>

<form class="p-3 mb-3 border w-full md:w-3/4 lg:w-1/2 {% if form.errors %}border-red-800{% else %}border-gray-500{% endif %}"
      method="post"
      action="{% url 'account_reset_password' %}"
      novalidate>
  {% csrf_token %}
  <p class="mb-3">{% translate "Forgotten your password? Enter your e-mail address below, and we'll send you an e-mail allowing you to reset it." %}</p>


  {% include "_form_errors.html" with errors=form.non_field_errors %}
  {% with WIDGET_ERROR_CLASS="border-red-800" %}
  <div class="mb-3">
    {% render_field form.email aria-label=form.email.label placeholder=form.email.label class="p-1 w-full" %}
    {% include "_form_errors.html" with errors=form.email.errors %}
  </div>

  {% endwith %}
  <div class="flex items-center justify-end">
    <button class="btn btn-default flex items-center"
            type="submit">
      <svg xmlns="http://www.w3.org/2000/svg"
           fill="none"
           viewBox="0 0 24 24"
           class="btn-icon mr-2"
           stroke="currentColor">
        <path stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>

      {% translate "Reset Password" %}</button>
  </div>

</form>
{% endblock %}
