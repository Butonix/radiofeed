{% extends "account/base.html" %}

{% load i18n widget_tweaks %}

{% block subtitle %} | {% translate "Change Password" %}{% endblock %}

{% block content %}
<h1 class="text-lg mb-3 font-bold">{% if token_fail %}{% translate "Bad Token" %}{% else %}{% translate "Change Password" %}{% endif %}</h1>

{% if token_fail %}
{% url 'account_reset_password' as passwd_reset_url %}
<p>{% blocktranslate %}The password reset link was invalid, possibly because it has already been used. Please request a <a href="{{ passwd_reset_url }}">new password reset</a>.{% endblocktranslate %}</p>
{% else %}
{% if form %}

<form class="p-3 border w-full sm:w-1/2 {% if form.errors %}border-red-600{% else %}border-gray-500{% endif %}"
      method="post"
      action="{{ action_url }}"
      novalidate>
  {% csrf_token %}
  <div class="mb-3">
    {% render_field form.password1 placeholder=form.password1.label class="p-1 w-full bg-gray-900" %}
    {% include "_form_errors.html" with errors=form.password1.errors %}
  </div>
  <div class="mb-3">
    {% render_field form.password2 placeholder=form.password2.label class="p-1 w-full bg-gray-900" %}
    {% include "_form_errors.html" with errors=form.password2.errors %}
  </div>


  <div class="flex items-center justify-end">
    <button type="submit"
            class="rounded border border-white text-sm px-4 py-1 font-semibold bg-blue-800 hover:bg-blue-600 flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg"
           fill="none"
           viewBox="0 0 24 24"
           class="h-4 w-4 mr-2"
           stroke="currentColor">
        <path stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 13l4 4L19 7" />
      </svg>

      {% translate 'Change Password' %}</button>
  </div>
</form>
{% else %}
<p>{% translate 'Your password is now changed.' %}</p>
{% endif %}
{% endif %}
{% endblock %}
