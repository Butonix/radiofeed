{% extends "account/settings_base.html" %}

{% load %}

{% block subtitle %} | Stats{% endblock %}

{% block settings_content %}

<h2 class="lg:text-lg font-bold mb-3">Stats for {{ user.username }}</h2>


<div class="divide-y mb-3">

  <div class="flex justify-between py-3">
    <div class="w-1/2">Joined</div>
    <div class="w-1/2 font-bold text-right">{{ user.date_joined|date }}</div>
  </div>

  <div class="flex justify-between py-3">
    <div class="w-1/2">Subscriptions</div>
    <div class="w-1/2 font-bold text-right">{{ stats.subscriptions }} podcast{{ stats.subscriptions|pluralize }}</div>
  </div>

  <div class="flex justify-between py-3">
    <div class="w-1/2">Favorites</div>
    <div class="w-1/2 font-bold text-right">{{ stats.favorites }} episode{{ stats.favorites|pluralize }}</div>
  </div>

  <div class="flex justify-between py-3">
    <div class="w-1/2">Listened</div>
    <div class="w-1/2 font-bold text-right">{{ stats.listened }} episode{{ stats.listened|pluralize }}</div>
  </div>

  <div class="flex justify-between py-3">
    <div class="w-1/2">In progress</div>
    <div class="w-1/2 font-bold text-right">{{ stats.in_progress }} episode{{ stats.in_progress|pluralize }}</div>
  </div>

  <div class="flex justify-between py-3">
    <div class="w-1/2">Completed</div>
    <div class="w-1/2 font-bold text-right">{{ stats.completed }} episode{{ stats.completed|pluralize }}</div>
  </div>
</div>

{% if most_listened %}
<h2 class="font-bold mb-3">Your Most Listened Podcasts</h2>

<ol class="list-decimal list-inside">
  {% for podcast in most_listened %}
  <li class="mb-3">
    <a href="{{ podcast.get_absolute_url }}"
       class="link">{{ podcast.title }}</a>
  </li>
  {% endfor %}
</ol>

{% endif %}

{% endblock settings_content %}
